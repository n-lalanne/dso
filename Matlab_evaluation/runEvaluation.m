function [] = runEvaluation(executable, config, datasetDir)
    datasets = { ...
        struct( ...
            'name', 'MH_01_easy', ...
            'startFrame', 950, ...
            'endFrame', 3600, ...
            'WINDOWSIZE', 120 ...
        ), ...
        struct( ...
            'name', 'MH_02_easy', ...
            'startFrame', 800, ...
            'endFrame', 3000, ...
            'WINDOWSIZE', 120 ...
        ), ...
        struct( ...
            'name', 'MH_03_medium', ...
            'startFrame', 430, ...
            'endFrame', 2600, ...
            'WINDOWSIZE', 120 ...
        ), ...
        struct( ...
            'name', 'MH_04_difficult', ...
            'startFrame', 460, ...
            'endFrame', 1925, ...
            'WINDOWSIZE', 40 ...
        ), ...
        struct( ...
            'name', 'MH_05_difficult', ...
            'startFrame', 460, ...
            'endFrame', 2200, ...
            'WINDOWSIZE', 70 ...
        ), ...
        struct( ...
            'name', 'V1_01_easy', ...
            'startFrame', 100, ...
            'endFrame', 2800, ...
            'WINDOWSIZE', 70 ...
        ), ...
        struct( ...
            'name', 'V1_02_medium', ...
            'startFrame', 115, ...
            'endFrame', 1600, ...
            'WINDOWSIZE', 120 ...
        ), ...
        struct( ...
            'name', 'V1_03_difficult', ...
            'startFrame', 250, ...
            'endFrame', 2020, ...
            'WINDOWSIZE', 40 ...
        ), ...
        struct( ...
            'name', 'V2_01_easy', ...
            'startFrame', 80, ...
            'endFrame', 2130, ...
            'WINDOWSIZE', 120 ...
        ), ...
        struct( ...
            'name', 'V2_02_medium', ...
            'startFrame', 100, ...
            'endFrame', 2230, ...
            'WINDOWSIZE', 60 ...
        ), ...
        struct( ...
            'name', 'V2_03_difficult', ...
            'startFrame', 115, ...
            'endFrame', 1880, ...
            'WINDOWSIZE', 40 ...
        ), ...
    };

    for datasetIdx = 1:size(datasets, 2)
        for iterIdx = 0:9
            while true
                arguments = [ ...
                    [' calib='  datasetDir '/camera.txt'], ...
                    [' config=' config ' '], ...
                    [' bag=' datasetDir '/' datasets{datasetIdx}.name '/' datasets{datasetIdx}.name '.bag'], ...
                    [' groundtruth=' datasetDir '/' datasets{datasetIdx}.name '/mav0/state_groundtruth_estimate0/data.csv'], ...
                    [' output=' 'mav_' datasets{datasetIdx}.name '_' num2str(iterIdx) '.txt'], ...
                    [' start_frame=' num2str(datasets{datasetIdx}.startFrame)], ...
                    [' end_frame=' num2str(datasets{datasetIdx}.endFrame)], ...
                    [' WINDOWSIZE=' num2str(datasets{datasetIdx}.WINDOWSIZE)], ...
                    [' nogui=1']
                ];
                % [executable arguments]
                % return
                [status, cmdout] = system([executable arguments], '-echo')

                if status == 0
                    break;
                else
                    fileId = fopen('logs/failure.txt', 'a');
                    fprintf(fileId, [datasets{datasetIdx}.name '\n']);
                    fclose(fileId);
                end
            end
        end
    end
end