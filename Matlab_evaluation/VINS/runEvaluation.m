function [] = runEvaluation(datasetDir)
    datasets = { ...
        struct( ...
            'name', 'MH_01_easy', ...
            'startFrame', 950, ...
            'endFrame', 3600, ...
            'WINDOWSIZE', 120 ...
        ), ...
        struct( ...
            'name', 'MH_02_easy', ...
            'startFrame', 800, ...
            'endFrame', 3000, ...
            'WINDOWSIZE', 120 ...
        ), ...
        struct( ...
            'name', 'MH_03_medium', ...
            'startFrame', 430, ...
            'endFrame', 2600, ...
            'WINDOWSIZE', 120 ...
        ), ...
        struct( ...
            'name', 'MH_04_difficult', ...
            'startFrame', 460, ...
            'endFrame', 1925, ...
            'WINDOWSIZE', 40 ...
        ), ...
        struct( ...
            'name', 'MH_05_difficult', ...
            'startFrame', 460, ...
            'endFrame', 2200, ...
            'WINDOWSIZE', 70 ...
        ), ...
        struct( ...
            'name', 'V1_01_easy', ...
            'startFrame', 100, ...
            'endFrame', 2800, ...
            'WINDOWSIZE', 70 ...
        ), ...
        struct( ...
            'name', 'V1_02_medium', ...
            'startFrame', 115, ...
            'endFrame', 1600, ...
            'WINDOWSIZE', 120 ...
        ), ...
        struct( ...
            'name', 'V1_03_difficult', ...
            'startFrame', 250, ...
            'endFrame', 2020, ...
            'WINDOWSIZE', 40 ...
        ), ...
        struct( ...
            'name', 'V2_01_easy', ...
            'startFrame', 80, ...
            'endFrame', 2130, ...
            'WINDOWSIZE', 120 ...
        ), ...
        struct( ...
            'name', 'V2_02_medium', ...
            'startFrame', 100, ...
            'endFrame', 2230, ...
            'WINDOWSIZE', 60 ...
        ), ...
        struct( ...
            'name', 'V2_03_difficult', ...
            'startFrame', 115, ...
            'endFrame', 1880, ...
            'WINDOWSIZE', 40 ...
        ), ...
    };

    for datasetIdx = 1:size(datasets, 2)
        for iterIdx = 0:1
            % while true
                arguments = [ ...
                    [datasetDir '/' datasets{datasetIdx}.name '/' datasets{datasetIdx}.name '.bag'], ...
                    [' -s ' num2str(datasets{datasetIdx}.startFrame)/20.0], ...
                    [' -u ' (num2str(datasets{datasetIdx}.endFrame) - num2str(datasets{datasetIdx}.endFrame))/20.0], ...
                ];
                
                system(['roslaunch vins_estimator euroc.launch &'])
                [status, cmdout] = system(['rosbag play ' arguments], '-echo')
                roslaunch_pids = findPIDS('roslaunch')
                for pid = roslaunch_pids
                    system(['kill -9 ' pid])
                end
            % end
        end
    end
end

